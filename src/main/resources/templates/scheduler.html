<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<html>
<head th:fragment="head">

    <title>Liftoff Recipe App</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link th:href="@{/css/recipe.css}" rel="stylesheet" />
    <link th:href="@{/fullcalendar/main.css}" rel='stylesheet' />
    <script type="text/javascript" th:src="@{/fullcalendar/main.js}"></script>
    <script type="text/javascript" th:src="@{/fullcalendar/draggable.js}"></script>

    <script>

        window.saveAndDisplay = function() {
          var result = document.getElementById('demo');
          var list = document.getElementById('dropBox');
          while (list.children.length > 0) {
            result.appendChild(list.children[0]);
          }
        }

        document.addEventListener('DOMContentLoaded', function() {
          var calendarEl = document.getElementById('calendar');
          var calendar = new FullCalendar.Calendar(calendarEl, {
            schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
            initialView: 'dayGridMonth'
          });
          calendar.render();
        });

        document.addEventListener('DOMContentLoaded', function() {
            let draggableEl = document.getElementById('mydraggable');
            let calendarEl = document.getElementById('mycalendar');

            let calendar = new Calendar(calendarEl, {
                plugins: [ interactionPlugin ],
                droppable: true
            });

            calendar.render();

            new Draggable(draggableEl);

            new Draggable(containerEl, {itemSelector: 'th-events'});
        });

    </script>
</head>
<body>

<div class="content">

    <div th:replace="fragments :: page-header"></div>

    <H1>Put your recipes in action!</H1>
    <p>Drag your recipes to the day you'd like make it!</p>
    <br>

    <hr class="my-3"/>

    <div class="container">

        <div class="fixed" id='external-events'>

            <p><strong>My Recipes</strong></p>

            <th:block th:each="recipe : ${recipes}">
                <!--old id//id="drag2"-->
                <div class="form-group th-events fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event" draggable="true" ondragstart="drag(event)" id="item-class">
                    <div class='fc-event-main'>
                        <label>
                            <span th:text="${recipe.name}" ></span>
                        </label>
                    </div>
                </div>
            </th:block>

<!--            <p>-->
<!--                <input type='checkbox' id='drop-remove' />-->
<!--                <label for='drop-remove'>remove after drop</label>-->
<!--            </p>-->

        </div>

        <div id='calendar-container' class="flex-item">
            <div id='calendar'></div>
        </div>

    </div>

</div>

<div th:replace="fragments :: footer" class="short-footer"></div>

</body>
</html>








